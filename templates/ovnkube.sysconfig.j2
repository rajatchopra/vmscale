# ovn-kubernetes config - all nodes and masters

# This file configures the ovn cni plugin. When completed or changed
# the file must be copied to each ovn-master and each ovn-node. The
# ovn-kubernetes-master and ovn-kubernetes-node daemons must be restarted.

# This file and /etc/openvswitch/ovn_k8s.conf, in combination, provide
# all of the configuration options. See man 5 ovn_k8s.conf

# The token can be created from information on the Openshift master
# after Openshift is installed and the master is running.
# Login to the openshift master and do the following commands once
# to set up openshift for ovn. The token can be set either here or in
# ovn_k8s.conf

# oc create serviceaccount ovn
# oc adm policy add-cluster-role-to-user cluster-admin -z ovn
# oc adm policy add-scc-to-user anyuid -z ovn
# oc sa get-token ovn  > /etc/origin/master/ovn.token

# cluster_cidr - this contains the clusterNetworkCIDR from
# /etc/origin/master/master-config.yaml
cluster_cidr={{ clustercidr }}

# When changes are made copy the file to each ovn-node and ovn-master
# and restart ovn-kubernetes-master.service and ovn-kubernetes-node.service

# configuration for ovnkube-node service
